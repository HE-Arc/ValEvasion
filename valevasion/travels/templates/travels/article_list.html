{% extends 'valevasion/base.html' %}

{% load static %}

{% block title %}Nos Voyages{% endblock %}

{% block content %}

<script>
    function add_tag(name) {
        var dropdown = document.getElementsByClassName("fluid");

        var a = document.createElement('a');
        var linkText = document.createTextNode("my title text");
        a.appendChild(linkText);
        a.title = "my title text";
        a.href = "http://example.com";

        dropdown[0].appendChild(a);
        console.log(dropdown);

    }
</script>
<div id="content">
    <div class="ui container">
        <div class="ui basic segment">
            <form method="get" action="{% url 'articles' %}" class="ui form">
                {% csrf_token %}
                <div class="field">
                    <select name="tags" multiple="" class="ui fluid dropdown">
                        <option value="">Skills</option>
                        <option value="bisal">bisal</option>
                        <option value="aventure">aventure</option>
                    </select>
                    <div id="test">

                    </div>
                </div>
                <button class="ui button" type="submit">Submit</button>
            </form>
            {% for filter_tag in filter_tags %}
            <script>
                add_tag("{{filter_tag}}");
            </script>
            {{ filter_tag }}
            {% endfor %}
        </div>
        <div class="ui basic segment">
            <div class="ui special cards">
                {% for article in article_list %}
                <div class="card">
                    <div class="blurring dimmable image">
                        <img src="{{ MEDIA_URL }}{{ article.image }}">
                        <div class="ui dimmer">
                            <div class="content">
                                <div class="center">
                                    <a href="{% url 'article-detail' article.id %}" class="ui inverted button">Plus de
                                        d√©tails</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="content">
                        <a class="header" href="{% url 'article-detail' article.id %}">{{ article.title }}</a>
                        <div class="meta">
                            <span class="date">Poster le {{ article.pub_date.date }}</span>
                        </div>
                        <div class="description">
                            {{ article.description|safe }}
                        </div>
                    </div>
                    <div class="extra content">
                        <a>
                            <i class="tags icon"></i>
                            {% for tag in article.tags.all %}
                            <a href="#">{{ tag.name }}</a>
                            {% endfor %}
                        </a>
                    </div>
                </div>
                {% empty %}
                <div class="ui large label">
                    <p>Pas de voyage pour le moment</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<script>
    $('.special.cards .image').dimmer({
        on: 'hover'
    });
</script>
{% endblock %}
